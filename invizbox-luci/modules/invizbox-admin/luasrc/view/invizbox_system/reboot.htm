<%#
LuCI - Lua Configuration Interface
Copyright 2008 Steven Barth <steven@midlink.org>
Copyright 2008 Jo-Philipp Wich <xm@leipzig.freifunk.net>
Modified by InvizBox Ltd  - Copyright 2015 InvizBox Ltd

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

	http://www.apache.org/licenses/LICENSE-2.0

$Id$

-%>
<%+header%>
<h2><%:System%></h2>
<h3><%:Reboot%></h3>
<p><%:Reboots the operating system of your device%></p>
<%-
local c = require("luci.model.uci").cursor():changes()
if c and next(c) then
-%>
	<p class="warning"><%:Warning: There are unsaved changes that will be lost while rebooting!%></p> 
<%-
end
if not reboot then 
-%>
<p><a href="<%=controller%>/invizbox/reboot?reboot=1" class="cbi-button cbi-button-reset"><%:Reboot InvizBox%></a></p>
<%- else -%>
<p><%:Please wait: Device rebooting... Please allow 60 seconds to reboot%></p>
<script type="text/javascript">setTimeout("location='<%=controller%>/invizbox'", 60000)</script>
<%- end -%>
<%+footer%>
